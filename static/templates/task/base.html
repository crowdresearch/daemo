<div class="_main-content" ng-class="{'_sm': $mdMedia('sm'), '_gt-sm': $mdMedia('gt-sm')}">
  <div class="_main-content-body">
    <md-button ng-click="openChat(task.requester_alias)" class="md-fab md-mini md-fab-chat-overlay">
      <md-icon class="_icon-18" md-font-set="material-icons">chat</md-icon>
      <md-tooltip>Chat with requester</md-tooltip>
    </md-button>
    <div class="md-whiteframe-z1 md-padding">
      <h3>Task #{{ task.taskData.id }} {{ task.taskData.project_data.name }}</h3>
      <p>Time Left: <span timer-counter seconds-left="task.time_left"></span></p>
      <div ng-if="task.is_review" task-response id="task.task_id"></div>

      <form name="resultsForm">


        <div ng-controller="TemplateController as template" class="template-item"
             ng-repeat="item in task.taskData.template.items">
          <div md-template-compiler="item" editor="false" instance="template" form="resultsForm"></div>
        </div>
        <div layout="row" class="task-actions" layout-align="end center">

          <md-button ng-click="task.submitOrSave(2)"
                     tabindex="0">Submit
          </md-button>
          <md-button ng-click="task.skip()"
                     tabindex="0">Skip
          </md-button>
        </div>
        <div layout="row" layout-align="start center" class="_preference">
          <md-switch name="auto-accept" ng-model="task.auto_accept" aria-label="Auto-accept next task"
                     ng-change="task.updateUserPreferences(task.auto_accept)">
            Auto-accept next task
          </md-switch>
        </div>
      </form>

    </div>
  </div>

</div>
